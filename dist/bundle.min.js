!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).airpay=t()}}(function(){return function i(a,s,u){function f(e,t){if(!s[e]){if(!a[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[e]={exports:{}};a[e][0].call(o.exports,function(t){return f(a[e][1][t]||t)},o,o.exports,i,a,s,u)}return s[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)f(u[t]);return f}({1:[function(t,e,r){"use strict";var n=t("../helpers/StoreManager"),o=t("../helpers/Constants"),i={initialize:function(t){if("string"!=typeof t)throw new Error("The key provided is invalid:"+t);n.get("IS_NODE")&&console.log("It looks like you're using the browser version of the SDK in a node.js environment. You should require('airpay-collect') instead."),n.set(o.APIKEY,t)}};i.Qrcode=t("./qrcode"),e.exports=i},{"../helpers/Constants":3,"../helpers/StoreManager":4,"./qrcode":2}],2:[function(t,e,r){"use strict";var n=t("qrcode");t("../helpers/StoreManager");e.exports=function(t){var e=document.getElementById(t);n.toCanvas(e,"sample text",function(t){t&&console.error(t),console.log("success!")})}},{"../helpers/StoreManager":4,qrcode:35}],3:[function(t,e,r){"use strict";var n=t("axios");e.exports={APIKEY:"API_KEY",AXIOS_OBJECT:n.create({baseURL:"https://airpay-staging.herokuapp.com/"})}},{axios:5}],4:[function(t,e,r){(function(t){"use strict";var r={API_KEY:null,IS_NODE:void 0!==t&&!!t.versions&&!!t.versions.node&&!t.version.electron};e.exports={set:function(t,e){r[t]=e},get:function(t){if(r.hasOwnProperty(t))return r[t];throw new Error("Configuration key not found: "+t)}}}).call(this,t("_process"))},{_process:34}],5:[function(t,e,r){e.exports=t("./lib/axios")},{"./lib/axios":7}],6:[function(E,t,e){(function(h){"use strict";var d=E("./../utils"),p=E("./../core/settle"),g=E("./../helpers/buildURL"),v=E("./../helpers/parseHeaders"),m=E("./../helpers/isURLSameOrigin"),y=E("../core/createError"),w="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||E("./../helpers/btoa");t.exports=function(l){return new Promise(function(r,n){var o=l.data,i=l.headers;d.isFormData(o)&&delete i["Content-Type"];var a=new XMLHttpRequest,t="onreadystatechange",s=!1;if("test"===h.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in a||m(l.url)||(a=new window.XDomainRequest,t="onload",s=!0,a.onprogress=function(){},a.ontimeout=function(){}),l.auth){var e=l.auth.username||"",u=l.auth.password||"";i.Authorization="Basic "+w(e+":"+u)}if(a.open(l.method.toUpperCase(),g(l.url,l.params,l.paramsSerializer),!0),a.timeout=l.timeout,a[t]=function(){if(a&&(4===a.readyState||s)&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in a?v(a.getAllResponseHeaders()):null,e={data:l.responseType&&"text"!==l.responseType?a.response:a.responseText,status:1223===a.status?204:a.status,statusText:1223===a.status?"No Content":a.statusText,headers:t,config:l,request:a};p(r,n,e),a=null}},a.onerror=function(){n(y("Network Error",l,null,a)),a=null},a.ontimeout=function(){n(y("timeout of "+l.timeout+"ms exceeded",l,"ECONNABORTED",a)),a=null},d.isStandardBrowserEnv()){var f=E("./../helpers/cookies"),c=(l.withCredentials||m(l.url))&&l.xsrfCookieName?f.read(l.xsrfCookieName):void 0;c&&(i[l.xsrfHeaderName]=c)}if("setRequestHeader"in a&&d.forEach(i,function(t,e){void 0===o&&"content-type"===e.toLowerCase()?delete i[e]:a.setRequestHeader(e,t)}),l.withCredentials&&(a.withCredentials=!0),l.responseType)try{a.responseType=l.responseType}catch(t){if("json"!==l.responseType)throw t}"function"==typeof l.onDownloadProgress&&a.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function(t){a&&(a.abort(),n(t),a=null)}),void 0===o&&(o=null),a.send(o)})}}).call(this,E("_process"))},{"../core/createError":13,"./../core/settle":16,"./../helpers/btoa":20,"./../helpers/buildURL":21,"./../helpers/cookies":23,"./../helpers/isURLSameOrigin":25,"./../helpers/parseHeaders":27,"./../utils":29,_process:34}],7:[function(t,e,r){"use strict";var n=t("./utils"),o=t("./helpers/bind"),i=t("./core/Axios"),a=t("./defaults");function s(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var u=s(a);u.Axios=i,u.create=function(t){return s(n.merge(a,t))},u.Cancel=t("./cancel/Cancel"),u.CancelToken=t("./cancel/CancelToken"),u.isCancel=t("./cancel/isCancel"),u.all=function(t){return Promise.all(t)},u.spread=t("./helpers/spread"),e.exports=u,e.exports.default=u},{"./cancel/Cancel":8,"./cancel/CancelToken":9,"./cancel/isCancel":10,"./core/Axios":11,"./defaults":18,"./helpers/bind":19,"./helpers/spread":28,"./utils":29}],8:[function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},{}],9:[function(t,e,r){"use strict";var n=t("./Cancel");function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},{"./Cancel":8}],10:[function(t,e,r){"use strict";e.exports=function(t){return!(!t||!t.__CANCEL__)}},{}],11:[function(t,e,r){"use strict";var n=t("./../defaults"),o=t("./../utils"),i=t("./InterceptorManager"),a=t("./dispatchRequest");function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:t},arguments[1])),(t=o.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},o.forEach(["delete","get","head","options"],function(r){s.prototype[r]=function(t,e){return this.request(o.merge(e||{},{method:r,url:t}))}}),o.forEach(["post","put","patch"],function(n){s.prototype[n]=function(t,e,r){return this.request(o.merge(r||{},{method:n,url:t,data:e}))}}),e.exports=s},{"./../defaults":18,"./../utils":29,"./InterceptorManager":12,"./dispatchRequest":14}],12:[function(t,e,r){"use strict";var n=t("./../utils");function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},{"./../utils":29}],13:[function(t,e,r){"use strict";var a=t("./enhanceError");e.exports=function(t,e,r,n,o){var i=new Error(t);return a(i,e,r,n,o)}},{"./enhanceError":15}],14:[function(t,e,r){"use strict";var n=t("./../utils"),o=t("./transformData"),i=t("../cancel/isCancel"),a=t("../defaults"),s=t("./../helpers/isAbsoluteURL"),u=t("./../helpers/combineURLs");function f(t){t.cancelToken&&t.cancelToken.throwIfRequested()}e.exports=function(e){return f(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return f(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(f(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},{"../cancel/isCancel":10,"../defaults":18,"./../helpers/combineURLs":22,"./../helpers/isAbsoluteURL":24,"./../utils":29,"./transformData":17}],15:[function(t,e,r){"use strict";e.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t}},{}],16:[function(t,e,r){"use strict";var o=t("./createError");e.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(o("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},{"./createError":13}],17:[function(t,e,r){"use strict";var n=t("./../utils");e.exports=function(e,r,t){return n.forEach(t,function(t){e=t(e,r)}),e}},{"./../utils":29}],18:[function(s,u,t){(function(t){"use strict";var r=s("./utils"),n=s("./helpers/normalizeHeaderName"),e={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i,a={adapter:("undefined"!=typeof XMLHttpRequest?i=s("./adapters/xhr"):void 0!==t&&(i=s("./adapters/http")),i),transformRequest:[function(t,e){return n(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(e)}),u.exports=a}).call(this,s("_process"))},{"./adapters/http":6,"./adapters/xhr":6,"./helpers/normalizeHeaderName":26,"./utils":29,_process:34}],19:[function(t,e,r){"use strict";e.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}}},{}],20:[function(t,e,r){"use strict";function s(){this.message="String contains an invalid character"}(s.prototype=new Error).code=5,s.prototype.name="InvalidCharacterError",e.exports=function(t){for(var e,r,n=String(t),o="",i=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&e>>8-i%1*8)){if(255<(r=n.charCodeAt(i+=.75)))throw new s;e=e<<8|r}return o}},{}],21:[function(t,e,r){"use strict";var i=t("./../utils");function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(i.isURLSearchParams(e))n=e.toString();else{var o=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(a(e)+"="+a(t))}))}),n=o.join("&")}return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}},{"./../utils":29}],22:[function(t,e,r){"use strict";e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},{}],23:[function(t,e,r){"use strict";var s=t("./../utils");e.exports=s.isStandardBrowserEnv()?{write:function(t,e,r,n,o,i){var a=[];a.push(t+"="+encodeURIComponent(e)),s.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),s.isString(n)&&a.push("path="+n),s.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":29}],24:[function(t,e,r){"use strict";e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},{}],25:[function(t,e,r){"use strict";var a=t("./../utils");e.exports=a.isStandardBrowserEnv()?function(){var r,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function i(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=i(window.location.href),function(t){var e=a.isString(t)?i(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0}},{"./../utils":29}],26:[function(t,e,r){"use strict";var o=t("../utils");e.exports=function(r,n){o.forEach(r,function(t,e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=t,delete r[e])})}},{"../utils":29}],27:[function(t,e,r){"use strict";var i=t("./../utils"),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(t){var e,r,n,o={};return t&&i.forEach(t.split("\n"),function(t){if(n=t.indexOf(":"),e=i.trim(t.substr(0,n)).toLowerCase(),r=i.trim(t.substr(n+1)),e){if(o[e]&&0<=a.indexOf(e))return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}}),o}},{"./../utils":29}],28:[function(t,e,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},{}],29:[function(t,e,r){"use strict";var o=t("./helpers/bind"),n=t("is-buffer"),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}e.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:n,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function r(){var n={};function t(t,e){"object"==typeof n[e]&&"object"==typeof t?n[e]=r(n[e],t):n[e]=t}for(var e=0,o=arguments.length;e<o;e++)f(arguments[e],t);return n},extend:function(r,t,n){return f(t,function(t,e){r[e]=n&&"function"==typeof t?o(t,n):t}),r},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},{"./helpers/bind":19,"is-buffer":32}],30:[function(t,e,r){"use strict";var n=t("window-or-global");e.exports=function(){return"function"==typeof n.Promise&&"function"==typeof n.Promise.prototype.then}},{"window-or-global":61}],31:[function(t,e,r){"use strict";var p={single_source_shortest_paths:function(t,e,r){var n={},o={};o[e]=0;var i,a,s,u,f,c,l,h=p.PriorityQueue.make();for(h.push(e,0);!h.empty();)for(s in a=(i=h.pop()).value,u=i.cost,f=t[a]||{})f.hasOwnProperty(s)&&(c=u+f[s],l=o[s],(void 0===o[s]||c<l)&&(o[s]=c,h.push(s,c),n[s]=a));if(void 0!==r&&void 0===o[r]){var d=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(d)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=p.single_source_shortest_paths(t,e,r);return p.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e,r=p.PriorityQueue,n={};for(e in t=t||{},r)r.hasOwnProperty(e)&&(n[e]=r[e]);return n.queue=[],n.sorter=t.sorter||r.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==e&&(e.exports=p)},{}],32:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}},{}],33:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],34:[function(t,e,r){var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var f,c=[],l=!1,h=-1;function d(){l&&f&&(l=!1,f.length?c=f.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(f=c,c=[];++h<e;)f&&f[h].run();h=-1,e=c.length}f=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new g(t,e)),1!==c.length||l||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],35:[function(t,e,r){var f=t("can-promise"),c=t("./core/qrcode"),n=t("./renderer/canvas"),o=t("./renderer/svg-tag.js");function i(n,o,i,a,e){var t=[].slice.call(arguments,1),r=t.length,s="function"==typeof t[r-1];if(!s&&!f())throw new Error("Callback required as last argument");if(!s){if(r<1)throw new Error("Too few arguments provided");return 1===r?(i=o,o=a=void 0):2!==r||o.getContext||(a=i,i=o,o=void 0),new Promise(function(t,e){try{var r=c.create(i,a);t(n(r,o,a))}catch(t){e(t)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(e=i,i=o,o=a=void 0):3===r&&(o.getContext&&void 0===e?(e=a,a=void 0):(e=a,a=i,i=o,o=void 0));try{var u=c.create(i,a);e(null,n(u,o,a))}catch(t){e(t)}}r.create=c.create,r.toCanvas=i.bind(null,n.render),r.toDataURL=i.bind(null,n.renderToDataURL),r.toString=i.bind(null,function(t,e,r){return o.render(t,r)})},{"./core/qrcode":51,"./renderer/canvas":57,"./renderer/svg-tag.js":58,"can-promise":30}],36:[function(t,e,a){var s=t("./utils").getSymbolSize;a.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,r=s(t),n=145===r?26:2*Math.ceil((r-13)/(2*e-2)),o=[r-7],i=1;i<e-1;i++)o[i]=o[i-1]-n;return o.push(6),o.reverse()},a.getPositions=function(t){for(var e=[],r=a.getRowColCoords(t),n=r.length,o=0;o<n;o++)for(var i=0;i<n;i++)0===o&&0===i||0===o&&i===n-1||o===n-1&&0===i||e.push([r[o],r[i]]);return e}},{"./utils":55}],37:[function(t,e,r){var n=t("./mode"),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=n.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var r=45*o.indexOf(this.data[e]);r+=o.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},e.exports=i},{"./mode":48}],38:[function(t,e,r){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},e.exports=n},{}],39:[function(t,e,r){var n=t("../utils/buffer");function o(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new n(t*t),this.data.fill(0),this.reservedBit=new n(t*t),this.reservedBit.fill(0)}o.prototype.set=function(t,e,r,n){var o=t*this.size+e;this.data[o]=r,n&&(this.reservedBit[o]=!0)},o.prototype.get=function(t,e){return this.data[t*this.size+e]},o.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},o.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},e.exports=o},{"../utils/buffer":60}],40:[function(t,e,r){var n=t("../utils/buffer"),o=t("./mode");function i(t){this.mode=o.BYTE,this.data=new n(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)},e.exports=i},{"../utils/buffer":60,"./mode":48}],41:[function(t,e,r){var n=t("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];r.getBlocksCount=function(t,e){switch(e){case n.L:return o[4*(t-1)+0];case n.M:return o[4*(t-1)+1];case n.Q:return o[4*(t-1)+2];case n.H:return o[4*(t-1)+3];default:return}},r.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return i[4*(t-1)+0];case n.M:return i[4*(t-1)+1];case n.Q:return i[4*(t-1)+2];case n.H:return i[4*(t-1)+3];default:return}}},{"./error-correction-level":42}],42:[function(t,e,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(t){return t&&void 0!==t.bit&&0<=t.bit&&t.bit<4},r.from=function(t,e){if(r.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return e}}},{}],43:[function(t,e,r){var n=t("./utils").getSymbolSize;r.getPositions=function(t){var e=n(t);return[[0,0],[e-7,0],[0,e-7]]}},{"./utils":55}],44:[function(t,e,r){var o=t("./utils"),i=o.getBCHDigit(1335);r.getEncodedBits=function(t,e){for(var r=t.bit<<3|e,n=r<<10;0<=o.getBCHDigit(n)-i;)n^=1335<<o.getBCHDigit(n)-i;return 21522^(r<<10|n)}},{"./utils":55}],45:[function(t,e,r){var n=t("../utils/buffer"),o=new n(512),i=new n(256);!function(){for(var t=1,e=0;e<255;e++)o[e]=t,i[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)o[e]=o[e-255]}(),r.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},r.exp=function(t){return o[t]},r.mul=function(t,e){return 0===t||0===e?0:o[i[t]+i[e]]}},{"../utils/buffer":60}],46:[function(t,e,r){var n=t("./mode"),o=t("./utils");function i(t){this.mode=n.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=o.toSJIS(this.data[e]);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}},e.exports=i},{"./mode":48,"./utils":55}],47:[function(t,e,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var c=3,a=3,u=40,o=10;function i(t,e,r){switch(t){case s.Patterns.PATTERN000:return(e+r)%2==0;case s.Patterns.PATTERN001:return e%2==0;case s.Patterns.PATTERN010:return r%3==0;case s.Patterns.PATTERN011:return(e+r)%3==0;case s.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case s.Patterns.PATTERN101:return e*r%2+e*r%3==0;case s.Patterns.PATTERN110:return(e*r%2+e*r%3)%2==0;case s.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}s.isValid=function(t){return t&&""!==t&&!isNaN(t)&&0<=t&&t<=7},s.from=function(t){return s.isValid(t)?parseInt(t,10):void 0},s.getPenaltyN1=function(t){for(var e=t.size,r=0,n=0,o=0,i=null,a=null,s=0;s<e;s++){n=o=0,i=a=null;for(var u=0;u<e;u++){var f=t.get(s,u);f===i?n++:(5<=n&&(r+=c+(n-5)),i=f,n=1),(f=t.get(u,s))===a?o++:(5<=o&&(r+=c+(o-5)),a=f,o=1)}5<=n&&(r+=c+(n-5)),5<=o&&(r+=c+(o-5))}return r},s.getPenaltyN2=function(t){for(var e=t.size,r=0,n=0;n<e-1;n++)for(var o=0;o<e-1;o++){var i=t.get(n,o)+t.get(n,o+1)+t.get(n+1,o)+t.get(n+1,o+1);4!==i&&0!==i||r++}return r*a},s.getPenaltyN3=function(t){for(var e=t.size,r=0,n=0,o=0,i=0;i<e;i++){n=o=0;for(var a=0;a<e;a++)n=n<<1&2047|t.get(i,a),10<=a&&(1488===n||93===n)&&r++,o=o<<1&2047|t.get(a,i),10<=a&&(1488===o||93===o)&&r++}return r*u},s.getPenaltyN4=function(t){for(var e=0,r=t.data.length,n=0;n<r;n++)e+=t.data[n];return Math.abs(Math.ceil(100*e/r/5)-10)*o},s.applyMask=function(t,e){for(var r=e.size,n=0;n<r;n++)for(var o=0;o<r;o++)e.isReserved(o,n)||e.xor(o,n,i(t,o,n))},s.getBestMask=function(t,e){for(var r=Object.keys(s.Patterns).length,n=0,o=1/0,i=0;i<r;i++){e(i),s.applyMask(i,t);var a=s.getPenaltyN1(t)+s.getPenaltyN2(t)+s.getPenaltyN3(t)+s.getPenaltyN4(t);s.applyMask(i,t),a<o&&(o=a,n=i)}return n}},{}],48:[function(t,e,r){var n=t("./version"),o=t("./regex");r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(e))throw new Error("Invalid version: "+e);return 1<=e&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},r.getBestModeForData=function(t){return o.testNumeric(t)?r.NUMERIC:o.testAlphanumeric(t)?r.ALPHANUMERIC:o.testKanji(t)?r.KANJI:r.BYTE},r.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},r.isValid=function(t){return t&&t.bit&&t.ccBits},r.from=function(t,e){if(r.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return e}}},{"./regex":53,"./version":56}],49:[function(t,e,r){var n=t("./mode");function o(t){this.mode=n.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);var o=this.data.length-e;0<o&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*o+1))},e.exports=o},{"./mode":48}],50:[function(t,e,n){var a=t("../utils/buffer"),s=t("./galois-field");n.mul=function(t,e){var r=new a(t.length+e.length-1);r.fill(0);for(var n=0;n<t.length;n++)for(var o=0;o<e.length;o++)r[n+o]^=s.mul(t[n],e[o]);return r},n.mod=function(t,e){for(var r=new a(t);0<=r.length-e.length;){for(var n=r[0],o=0;o<e.length;o++)r[o]^=s.mul(e[o],n);for(var i=0;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},n.generateECPolynomial=function(t){for(var e=new a([1]),r=0;r<t;r++)e=n.mul(e,[1,s.exp(r)]);return e}},{"../utils/buffer":60,"./galois-field":45}],51:[function(t,e,r){var R=t("../utils/buffer"),T=t("./utils"),i=t("./error-correction-level"),s=t("./bit-buffer"),l=t("./bit-matrix"),h=t("./alignment-pattern"),d=t("./finder-pattern"),p=t("./mask-pattern"),x=t("./error-correction-code"),B=t("./reed-solomon-encoder"),g=t("./version"),u=t("./format-info"),f=t("./mode"),v=t("./segments"),m=t("isarray");function y(t,e,r){var n,o,i=t.size,a=u.getEncodedBits(e,r);for(n=0;n<15;n++)o=1==(a>>n&1),n<6?t.set(n,8,o,!0):n<8?t.set(n+1,8,o,!0):t.set(i-15+n,8,o,!0),n<8?t.set(8,i-n-1,o,!0):n<9?t.set(8,15-n-1+1,o,!0):t.set(8,15-n-1,o,!0);t.set(i-8,8,1,!0)}function w(e,t,r){var n=new s;r.forEach(function(t){n.put(t.mode.bit,4),n.put(t.getLength(),f.getCharCountIndicator(t.mode,e)),t.write(n)});var o=8*(T.getSymbolTotalCodewords(e)-x.getTotalCodewordsCount(e,t));for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var i=(o-n.getLengthInBits())/8,a=0;a<i;a++)n.put(a%2?17:236,8);return function(t,e,r){for(var n=T.getSymbolTotalCodewords(e),o=x.getTotalCodewordsCount(e,r),i=n-o,a=x.getBlocksCount(e,r),s=a-n%a,u=Math.floor(n/a),f=Math.floor(i/a),c=f+1,l=u-f,h=new B(l),d=0,p=new Array(a),g=new Array(a),v=0,m=new R(t.buffer),y=0;y<a;y++){var w=y<s?f:c;p[y]=m.slice(d,d+w),g[y]=h.encode(p[y]),d+=w,v=Math.max(v,w)}var E,b,A=new R(n),C=0;for(E=0;E<v;E++)for(b=0;b<a;b++)E<p[b].length&&(A[C++]=p[b][E]);for(E=0;E<l;E++)for(b=0;b<a;b++)A[C++]=g[b][E];return A}(n,e,t)}function a(t,e,r,n){var o;if(m(t))o=v.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var i=e;if(!i){var a=v.rawSplit(t);i=g.getBestVersionForData(a,r)}o=v.fromString(t,i||40)}var s=g.getBestVersionForData(o,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else e=s;var u=w(e,r,o),f=T.getSymbolSize(e),c=new l(f);return function(t,e){for(var r=t.size,n=d.getPositions(e),o=0;o<n.length;o++)for(var i=n[o][0],a=n[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||r<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||r<=a+u||(0<=s&&s<=6&&(0===u||6===u)||0<=u&&u<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=u&&u<=4?t.set(i+s,a+u,!0,!0):t.set(i+s,a+u,!1,!0))}(c,e),function(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2==0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}(c),function(t,e){for(var r=h.getPositions(e),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?t.set(o+a,i+s,!0,!0):t.set(o+a,i+s,!1,!0)}(c,e),y(c,r,0),7<=e&&function(t,e){for(var r,n,o,i=t.size,a=g.getEncodedBits(e),s=0;s<18;s++)r=Math.floor(s/3),n=s%3+i-8-3,o=1==(a>>s&1),t.set(r,n,o,!0),t.set(n,r,o,!0)}(c,e),function(t,e){for(var r=t.size,n=-1,o=r-1,i=7,a=0,s=r-1;0<s;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!t.isReserved(o,s-u)){var f=!1;a<e.length&&(f=1==(e[a]>>>i&1)),t.set(o,s-u,f),-1==--i&&(a++,i=7)}if((o+=n)<0||r<=o){o-=n,n=-n;break}}}(c,u),n||(n=p.getBestMask(c,y.bind(null,c,r))),p.applyMask(n,c),y(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:o}}r.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var r,n,o=i.M;return void 0!==e&&(o=i.from(e.errorCorrectionLevel,i.M),r=g.from(e.version),n=p.from(e.maskPattern),e.toSJISFunc&&T.setToSJISFunction(e.toSJISFunc)),a(t,r,o,n)}},{"../utils/buffer":60,"./alignment-pattern":36,"./bit-buffer":38,"./bit-matrix":39,"./error-correction-code":41,"./error-correction-level":42,"./finder-pattern":43,"./format-info":44,"./mask-pattern":47,"./mode":48,"./reed-solomon-encoder":52,"./segments":54,"./utils":55,"./version":56,isarray:33}],52:[function(t,e,r){var a=t("../utils/buffer"),s=t("./polynomial");function n(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}n.prototype.initialize=function(t){this.degree=t,this.genPoly=s.generateECPolynomial(this.degree)},n.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new a(this.degree);e.fill(0);var r=a.concat([t,e],t.length+this.degree),n=s.mod(r,this.genPoly),o=this.degree-n.length;if(0<o){var i=new a(this.degree);return i.fill(0),n.copy(i,o),i}return n},e.exports=n},{"../utils/buffer":60,"./polynomial":50}],53:[function(t,e,r){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+").)+";r.KANJI=new RegExp(n,"g"),r.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),r.BYTE=new RegExp(o,"g"),r.NUMERIC=new RegExp("[0-9]+","g"),r.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),a=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");r.testKanji=function(t){return i.test(t)},r.testNumeric=function(t){return a.test(t)},r.testAlphanumeric=function(t){return s.test(t)}},{}],54:[function(t,e,a){var d=t("./mode"),o=t("./numeric-data"),i=t("./alphanumeric-data"),s=t("./byte-data"),u=t("./kanji-data"),f=t("./regex"),c=t("./utils"),l=t("dijkstrajs");function h(t){return unescape(encodeURIComponent(t)).length}function p(t,e,r){for(var n,o=[];null!==(n=t.exec(r));)o.push({data:n[0],index:n.index,mode:e,length:n[0].length});return o}function g(t){var e,r,n=p(f.NUMERIC,d.NUMERIC,t),o=p(f.ALPHANUMERIC,d.ALPHANUMERIC,t);return c.isKanjiModeEnabled()?(e=p(f.BYTE,d.BYTE,t),r=p(f.KANJI,d.KANJI,t)):(e=p(f.BYTE_KANJI,d.BYTE,t),r=[]),n.concat(o,e,r).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function v(t,e){switch(e){case d.NUMERIC:return o.getBitsLength(t);case d.ALPHANUMERIC:return i.getBitsLength(t);case d.KANJI:return u.getBitsLength(t);case d.BYTE:return s.getBitsLength(t)}}function r(t,e){var r,n=d.getBestModeForData(t);if((r=d.from(e,n))!==d.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+d.toString(r)+".\n Suggested mode is: "+d.toString(n));switch(r!==d.KANJI||c.isKanjiModeEnabled()||(r=d.BYTE),r){case d.NUMERIC:return new o(t);case d.ALPHANUMERIC:return new i(t);case d.KANJI:return new u(t);case d.BYTE:return new s(t)}}a.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(r(e,null)):e.data&&t.push(r(e.data,e.mode)),t},[])},a.fromString=function(t,e){for(var r=function(t,e){for(var r={},n={start:{}},o=["start"],i=0;i<t.length;i++){for(var a=t[i],s=[],u=0;u<a.length;u++){var f=a[u],c=""+i+u;s.push(c),r[c]={node:f,lastCount:0},n[c]={};for(var l=0;l<o.length;l++){var h=o[l];r[h]&&r[h].node.mode===f.mode?(n[h][c]=v(r[h].lastCount+f.length,f.mode)-v(r[h].lastCount,f.mode),r[h].lastCount+=f.length):(r[h]&&(r[h].lastCount=f.length),n[h][c]=v(f.length,f.mode)+4+d.getCharCountIndicator(f.mode,e))}}o=s}for(l=0;l<o.length;l++)n[o[l]].end=0;return{map:n,table:r}}(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];switch(n.mode){case d.NUMERIC:e.push([n,{data:n.data,mode:d.ALPHANUMERIC,length:n.length},{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.ALPHANUMERIC:e.push([n,{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.KANJI:e.push([n,{data:n.data,mode:d.BYTE,length:h(n.data)}]);break;case d.BYTE:e.push([{data:n.data,mode:d.BYTE,length:h(n.data)}])}}return e}(g(t,c.isKanjiModeEnabled())),e),n=l.find_path(r.map,"start","end"),o=[],i=1;i<n.length-1;i++)o.push(r.table[n[i]].node);return a.fromArray(o.reduce(function(t,e){var r=0<=t.length-1?t[t.length-1]:null;return r&&r.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[]))},a.rawSplit=function(t){return a.fromArray(g(t,c.isKanjiModeEnabled()))}},{"./alphanumeric-data":37,"./byte-data":40,"./kanji-data":46,"./mode":48,"./numeric-data":49,"./regex":53,"./utils":55,dijkstrajs:31}],55:[function(t,e,r){var n,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];r.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},r.getSymbolTotalCodewords=function(t){return o[t]},r.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},r.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},r.isKanjiModeEnabled=function(){return void 0!==n},r.toSJIS=function(t){return n(t)}},{}],56:[function(t,e,i){var a=t("./utils"),s=t("./error-correction-code"),o=t("./error-correction-level"),u=t("./mode"),f=t("isarray"),r=a.getBCHDigit(7973);function c(t,e){return u.getCharCountIndicator(t,e)+4}function l(t,r){var n=0;return t.forEach(function(t){var e=c(t.mode,r);n+=e+t.getBitsLength()}),n}i.isValid=function(t){return!isNaN(t)&&1<=t&&t<=40},i.from=function(t,e){return i.isValid(t)?parseInt(t,10):e},i.getCapacity=function(t,e,r){if(!i.isValid(t))throw new Error("Invalid QR Code version");void 0===r&&(r=u.BYTE);var n=8*(a.getSymbolTotalCodewords(t)-s.getTotalCodewordsCount(t,e));if(r===u.MIXED)return n;var o=n-c(r,t);switch(r){case u.NUMERIC:return Math.floor(o/10*3);case u.ALPHANUMERIC:return Math.floor(o/11*2);case u.KANJI:return Math.floor(o/13);case u.BYTE:default:return Math.floor(o/8)}},i.getBestVersionForData=function(t,e){var r,n=o.from(e,o.M);if(f(t)){if(1<t.length)return function(t,e){for(var r=1;r<=40;r++)if(l(t,r)<=i.getCapacity(r,e,u.MIXED))return r}(t,n);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,e,r){for(var n=1;n<=40;n++)if(e<=i.getCapacity(n,r,t))return n}(r.mode,r.getLength(),n)},i.getEncodedBits=function(t){if(!i.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;0<=a.getBCHDigit(e)-r;)e^=7973<<a.getBCHDigit(e)-r;return t<<12|e}},{"./error-correction-code":41,"./error-correction-level":42,"./mode":48,"./utils":55,isarray:33}],57:[function(t,e,s){var c=t("./utils");s.render=function(t,e,r){var n=r,o=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=c.getOptions(n);var i,a,s=c.getImageWidth(t.modules.size,n),u=o.getContext("2d"),f=u.createImageData(s,s);return c.qrToImageData(f.data,t,n),i=o,a=s,u.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px",u.putImageData(f,0,0),o},s.renderToDataURL=function(t,e,r){var n=r;void 0!==n||e&&e.getContext||(n=e,e=void 0),n||(n={});var o=s.render(t,e,n),i=n.type||"image/png",a=n.rendererOpts||{};return o.toDataURL(i,a.quality)}},{"./utils":59}],58:[function(t,e,r){var l=t("./utils");function h(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function d(t,e,r){var n=t+e;return void 0!==r&&(n+=" "+r),n}r.render=function(t,e,r){var n=l.getOptions(e),o=t.modules.size,i=t.modules.data,a=o+2*n.margin,s=n.color.light.a?"<path "+h(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+h(n.color.dark,"stroke")+' d="'+function(t,e,r){for(var n="",o=0,i=!1,a=0,s=0;s<t.length;s++){var u=Math.floor(s%e),f=Math.floor(s/e);u||i||(i=!0),t[s]?(a++,0<s&&0<u&&t[s-1]||(n+=i?d("M",u+r,.5+f+r):d("m",o,0),o=0,i=!1),u+1<e&&t[s+1]||(n+=d("h",a),a=0)):o++}return n}(i,o,n.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',c='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+f+">"+s+u+"</svg>";return"function"==typeof r&&r(null,c),c}},{"./utils":59}],59:[function(t,e,d){function o(t){if("string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||8<e.length)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}d.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&21<=t.width?t.width:void 0,n=t.scale||4;return{width:r,scale:r?4:n,margin:e,color:{dark:o(t.color.dark||"#000000ff"),light:o(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},d.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},d.getImageWidth=function(t,e){var r=d.getScale(t,e);return Math.floor((t+2*e.margin)*r)},d.qrToImageData=function(t,e,r){for(var n=e.modules.size,o=e.modules.data,i=d.getScale(n,r),a=Math.floor((n+2*r.margin)*i),s=r.margin*i,u=[r.color.light,r.color.dark],f=0;f<a;f++)for(var c=0;c<a;c++){var l=4*(f*a+c),h=r.color.light;if(s<=f&&s<=c&&f<a-s&&c<a-s)h=u[o[Math.floor((f-s)/i)*n+Math.floor((c-s)/i)]?1:0];t[l++]=h.r,t[l++]=h.g,t[l++]=h.b,t[l]=h.a}}},{}],60:[function(t,e,r){"use strict";var a=t("isarray");var n=(s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())?2147483647:1073741823;function s(t,e,r){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof t?f(this,t):function(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return function(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var o;o=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);s.TYPED_ARRAY_SUPPORT?o.__proto__=s.prototype:o=c(t,o);return o}(t,e,r,n);if("string"==typeof e)return function(t,e){var r=0|h(e),n=u(t,r),o=n.write(e);o!==r&&(n=n.slice(0,o));return n}(t,e);return function(t,e){if(s.isBuffer(e)){var r=0|i(e.length),n=u(t,r);return 0===n.length||e.copy(n,0,0,r),n}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?u(t,0):c(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return c(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,r):new s(t,e,r)}function i(t){if(n<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function u(t,e){var r;return s.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e)).__proto__=s.prototype:(null===(r=t)&&(r=new s(e)),r.length=e),r}function f(t,e){var r=u(t,e<0?0:0|i(e));if(!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function c(t,e){for(var r=e.length<0?0:0|i(e.length),n=u(t,r),o=0;o<r;o+=1)n[o]=255&e[o];return n}function l(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if(55295<(r=t.charCodeAt(a))&&r<57344){if(!o){if(56319<r){-1<(e-=3)&&i.push(239,191,189);continue}if(a+1===n){-1<(e-=3)&&i.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(e-=3)&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(e-=3)&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function h(t){return s.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:l(t).length)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(t,e,r){void 0===e?(r=this.length,e=0):void 0===r&&"string"==typeof e?(r=this.length,e=0):isFinite(e)&&(e|=0,isFinite(r)?r|=0:r=void 0);var n,o,i,a=this.length-e;if((void 0===r||a<r)&&(r=a),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return o=e,i=r,function(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}(l(t,(n=this).length-o),n,o,i)},s.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=s.prototype;else{var o=e-t;r=new s(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},s.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;0<=o;--o)t[o+e]=this[o+r];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},s.prototype.fill=function(t,e,r){if("string"==typeof t){if("string"==typeof e?(e=0,r=this.length):"string"==typeof r&&(r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var i=s.isBuffer(t)?t:new s(t),a=i.length;for(o=0;o<r-e;++o)this[o+e]=i[o%a]}return this},s.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u(null,0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var n=f(null,e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.isBuffer=function(t){return!(null==t||!t._isBuffer)},e.exports=s},{isarray:33}],61:[function(t,e,r){(function(t){"use strict";e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});
